### first install git/hg, vim
### if __git_ps1 isn't included, install it

### SSH
mkdir -p ~/.ssh
chmod 700 ~/.ssh
touch ~/.ssh/config
chmod 600 ~/.ssh/config
### remember to add a passphrase!
ssh-keygen -a 100 -t ed25519 -f ~/.ssh/github_ed25519
cat >> ~/.ssh/config <<EOF
Host github.com
    IdentityFile ~/.ssh/github_ed25519
Host *
    AddKeysToAgent yes
    IdentitiesOnly yes
EOF
# consolidate and order config file from most to least specific
# add SSH key to GitHub

### GPG
echo "keyid-format LONG" >> ~/.gnupg/gpg.conf
# use RSA/RSA 4096, no expiration, the same name and email as below,
# and comment 'HOSTNAME -> GitHub'
gpg --full-generate-key
# not really necessary, it will be printed when the key is generated
# gpg --list-secret-keys --keyid-format LONG  # copy the key ID
gpg --armor --export KEY_ID
# add GPG key to GitHub

### global git
#
# identity
git config --global user.name "Danielle Zephyr Malament"
git config --global user.email danielle.malament@gmail.com
# not necessary if the default key is the one you want
git config --global user.signingkey KEY_ID
#
# general config
git config --global core.pager "less -F"
git config --global core.excludesfile ~/.gitignore_global
git config --global pretty.oneline-name \
    '%C(yellow)%h%Cgreen%d %Creset%s%Cblue [%cn]'
git config --global pretty.oneline-name-nl \
    '%n%C(yellow)%h%Cgreen%d %Creset%s%Cblue [%cn]'
git config --global pull.rebase true
git config --global rebase.autoStash true
git config --global commit.gpgsign true
git config --global tag.forceSignAnnotated true
echo ".vscode" >> ~/.gitignore_global  # for GUI systems
#
# one-command aliases
git config --global alias.la '!git config -l | grep ^alias | cut -c 7-'
git config --global alias.br branch
git config --global alias.brdel 'branch -d'
git config --global alias.brdelf 'branch -D'
git config --global alias.st status
git config --global alias.l log
git config --global alias.lg 'log --graph'
git config --global alias.lf 'log --numstat'  # files
git config --global alias.ld 'log --patch'  # diff
git config --global alias.ll 'log --oneline'
git config --global alias.lln 'log --pretty=oneline-name'
git config --global alias.llg 'log --pretty=oneline-name --graph'
git config --global alias.llf 'log --pretty=oneline-name-nl --numstat'  # files
git config --global alias.tree 'log --pretty=oneline-name --graph --all'
git config --global alias.co checkout
git config --global alias.cb 'checkout -b'
git config --global alias.rb 'pull --rebase --autostash'
git config --global alias.rbo 'pull --rebase --autostash origin'
git config --global alias.rbm 'pull --rebase --autostash origin master'
git config --global alias.rbd 'pull --rebase --autostash origin develop'
git config --global alias.pick cherry-pick
git config --global alias.ap 'add -p'
git config --global alias.aa 'add -A'
git config --global alias.df diff
git config --global alias.dc 'diff --cached'
git config --global alias.ci commit
git config --global alias.cm 'commit -m'
git config --global alias.amendm 'commit --amend'
git config --global alias.amend 'commit --amend --no-edit'
git config --global alias.pn 'push --set-upstream origin'
git config --global alias.pnh 'push --set-upstream origin HEAD'
git config --global alias.pf 'push --force-with-lease'
#
# multiple-command aliases
git config --global alias.acm '!git add -A && git commit -m'
git config --global alias.apf \
    '!git commit --amend --no-edit && git push --force-with-lease'
git config --global alias.aapf \
    '!git add -A && git commit --amend --no-edit && git push --force-with-lease'

### global hg (~/.hgrc)
[ui]
username = Danielle Zephyr Malament <EMAIL>  # work or personal, depending

[pager]
pager = less -F

### vim
mkdir ~/.vim
cd ~/.vim
git clone https://github.com/tpope/vim-pathogen.git
mkdir autoload
cd autoload
ln -s ../vim-pathogen/autoload/pathogen.vim .
cd ..
mkdir bundle
cd bundle
git clone https://github.com/nvie/vim-flake8.git
git clone https://github.com/wincent/command-t.git
git clone https://github.com/altercation/vim-colors-solarized.git
git clone https://github.com/terryma/vim-multiple-cursors.git
git clone https://github.com/scrooloose/nerdtree.git
git clone https://github.com/tpope/vim-surround.git
cd ~

### python
# see python.txt

### perms
# in most cases:
chmod -R go-rwx ~
